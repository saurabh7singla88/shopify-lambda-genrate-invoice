# Environment Variables Setup

This project uses environment variables for configuration. Follow these steps to set up your local environment:

## Setup Instructions

### 1. Install Dependencies
```bash
npm install
```

### 2. Create Environment File
Copy the example environment file and configure it with your values:
```bash
cp .env.example .env
```

### 3. Configure Variables
Edit `.env` file with your company and AWS details:

```env
# Company Configuration
COMPANY_NAME=Your Company Name
COMPANY_LEGAL_NAME=Legal Entity Name
COMPANY_ADDRESS_LINE1=Address Line 1
COMPANY_ADDRESS_LINE2=City, State ZIP
COMPANY_STATE=Maharashtra
COMPANY_GSTIN=27AAAAA0000A1Z5
COMPANY_SUPPORT_EMAIL=support@yourcompany.com
COMPANY_PHONE=+91-XXX-XXXXXXX
COMPANY_LOGO_FILENAME=logo.jpg

# AWS Configuration
TABLE_NAME=ShopifyOrders
S3_BUCKET_NAME=your-invoice-bucket
SNS_TOPIC_ARN=arn:aws:sns:us-east-1:xxx:topic
INVOICE_LAMBDA_NAME=invoice-generation-lambda
AWS_REGION=us-east-1
```

## Running Tests

Simply run the test without passing environment variables:
```bash
node test/test-pdf-local.mjs
```

The `.env` file will be automatically loaded.

## Important Notes

- **Never commit `.env`** to version control (it's in .gitignore)
- **Always commit `.env.example`** with placeholder values
- **COMPANY_STATE** is crucial for GST tax calculation (intrastate vs interstate)
- For Lambda deployment, set environment variables in AWS Lambda console

## GST Tax Calculation

The `COMPANY_STATE` variable determines tax type:
- **Same state as buyer** → CGST + SGST (intrastate)
- **Different state from buyer** → IGST (interstate)

Example:
- COMPANY_STATE=Maharashtra + Buyer in Maharashtra = CGST + SGST
- COMPANY_STATE=Punjab + Buyer in Maharashtra = IGST
